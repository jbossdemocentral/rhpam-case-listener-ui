<!--
=========================================================
* Argon Dashboard - v1.2.0
=========================================================
* Product Page: https://www.creative-tim.com/product/argon-dashboard


* Copyright  Creative Tim (http://www.creative-tim.com)
* Coded by www.creative-tim.com



=========================================================
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
-->
<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>Transaction Monitoring System</title>
  <!-- Favicon -->

  <!-- Fonts -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700">
  <!-- Icons -->
  <link rel="stylesheet" href="../assets/vendor/nucleo/css/nucleo.css" type="text/css">
  <link rel="stylesheet" href="../assets/vendor/@fortawesome/fontawesome-free/css/all.min.css" type="text/css">
  <!-- Page plugins -->
  <!-- Argon CSS -->
  <link href="/assets/vendor/nucleo/css/nucleo.css" rel="stylesheet">
  <link rel="stylesheet" href="../assets/css/argon.css?v=1.2.0" type="text/css">
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>



</head>

<body ng-app="myApp" ng-controller="FormController">
  <!-- Sidenav -->
  <nav class="navbar navbar-default navbar-pf" role="navigation">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">
        <h2>Acme Corporation</h2>

      </a>
    </div>
    <div class="collapse navbar-collapse navbar-collapse-1">
      <ul class="nav navbar-nav navbar-utility">

        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">
            <span class="pficon pficon-user"></span>
            Agent Login <b class="caret"></b>
          </a>
          <ul class="dropdown-menu">
            <li>
              <a href="#">Link</a>
            </li>
            <li>
              <a href="#">Another link</a>
            </li>
            <li>
              <a href="#">Something else here</a>
            </li>
            <li class="divider"></li>
            <li class="dropdown-submenu">
              <a tabindex="-1" href="#">More options</a>
              <ul class="dropdown-menu">
                <li>
                  <a href="#">Link</a>
                </li>
                <li>
                  <a href="#">Another link</a>
                </li>
                <li>
                  <a href="#">Something else here</a>
                </li>
                <li class="divider"></li>
                <li class="dropdown-header">Nav header</li>
                <li>
                  <a href="#">Separated link</a>
                </li>
                <li class="divider"></li>
                <li>
                  <a href="#">One more separated link</a>
                </li>
              </ul>
            </li>
            <li class="divider"></li>
            <li>
              <a href="#">One more separated link</a>
            </li>
          </ul>
        </li>
      </ul>
      <ul class="nav navbar-nav navbar-primary">
        <li>
          <a href="#">Market Risk</a>
        </li>

      </ul>
    </div>
  </nav>
  <!-- Main content -->
  <div class="main-content" id="panel">
    <!-- Topnav -->


    <!-- Page content -->
    <div class="container-fluid mt--6">
      <div class="row">


      </div>
      <div class="row">
        <div class="col-xl-12">
          <div class="card">
            <div class="card-header border-0">
              <div class="row align-items-center">
                <div class="col">
                  <h3 class="mb-0">Transaction Details</h3>

                  <div width="54px" height="54px"  id="svgDiv"></div>
<hr/>
                  <h3 class="mb-0">Process Variables</h3>
                  <br/>
                  <div class="table-responsive">
                    <!-- Projects table -->
                    <table class="table align-items-center table-flush">
                      <thead>
                      <th><h4>Property</h4></th>
                      <th><h4>Value</h4></th>
                      </thead>
                      <tr ng-repeat='(key, value) in processVariables'>
                        <td class="display-4">{{key}}</td> <td ng-show="value!=='null'" class="display-4">{{value}}</td> <td ng-show="value==='null'" class="display-4"></td>


                      </tr>
                    </table>
                    <hr/>
                    <h3 class="mb-0">Task Details</h3>
                    <br/>
                    <div class="table-responsive">
                      <!-- Projects table -->
                      <table class="table align-items-center table-flush">
                        <thead>
                        <th><h4>Task Id</h4></th>
                        <th><h4>Task Name</h4></th>
                        <th><h4>Task Owner</h4></th>
                        <th><h4>Task Status</h4></th>
                        </thead>
                        <tr ng-repeat='x in taskList'>
                          <td class="display-4">{{x.taskId}}</td>
                          <td class="display-4">{{x.taskName}}</td>
                          <td class="display-4">{{x.owner}}</td>
                          <td class="display-4">{{x.status}}</td>
                        </tr>
                      </table>


                </div>

              </div>
            </div>

          </div>
        </div>

      </div>
      <!-- Footer -->

    </div>
  </div>
  <!-- Argon Scripts -->
  <!-- Core -->
  <script src="../assets/vendor/jquery/dist/jquery.min.js"></script>
  <script src="../assets/vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../assets/vendor/js-cookie/js.cookie.js"></script>
  <script src="../assets/vendor/jquery.scrollbar/jquery.scrollbar.min.js"></script>
  <script src="../assets/vendor/jquery-scroll-lock/dist/jquery-scrollLock.min.js"></script>
  <!-- Optional JS -->
  <script src="../assets/vendor/chart.js/dist/Chart.min.js"></script>
  <script src="../assets/vendor/chart.js/dist/Chart.extension.js"></script>
  <!-- Argon JS -->
  <script src="../assets/js/argon.js?v=1.2.0"></script>
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

  <script>

      var app = angular.module('myApp', []);
      app.controller('FormController', function($scope,$http) {



      var baseURL = window.location.protocol + '//' + window.location.host;


var queryString = window.location.search;
var urlParams = new URLSearchParams(queryString);
var product = urlParams.get('txnId')


         $http({
              url: baseURL+"/transaction/svg/"+product,
              method: "GET",
              headers: new Headers({ 'Content-Type': 'application/application/json' })

          })
          .then(function(response) {

                $scope.processVariables = response.data.processVariables;
                 $scope.svg =response.data.svg;
                $scope.taskList = response.data.taskList;
                 document.getElementById("svgDiv").innerHTML=$scope.svg;

          },
          function(response) { // optional

                  // failed
                  console.log (JSON.stringify (response, null, 2));

          });



      });



 </script>
</body>

</html>